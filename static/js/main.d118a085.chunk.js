(this["webpackJsonpdesafio-front-post-its"]=this["webpackJsonpdesafio-front-post-its"]||[]).push([[0],{191:function(t,e,a){"use strict";a.r(e);var s=a(0),n=a.n(s),c=a(74),i=a.n(c),o=(a(85),a(86),a(16)),r=a(2),d=a(1),l=function(){return Object(d.jsx)("header",{"data-testid":"header-tag",children:Object(d.jsx)("h1",{"data-testid":"header-title",className:"title-principal",children:"Gereciador de Notas"})})},j=function(){var t=Object(r.g)();return Object(d.jsx)("button",{"data-testid":"btn-new-task",onClick:function(){t.push("/add-task"),t.go(0)},className:"home__btn",type:"button",children:"nova nota"})},b=function(){var t=Object(r.g)();return Object(d.jsx)("button",{"data-testid":"btn-mod-simplified",onClick:function(){t.push("/simplified")},className:"home__btn",type:"button",children:"modo simplificado"})},h=function(){var t=Object(r.g)();return Object(d.jsx)("button",{"data-testid":"btn-view-tasks",onClick:function(){t.push("/view-tasks")},className:"home__btn",type:"button",children:"ver notas"})},u=function(){return Object(d.jsxs)("main",{className:"home__content",children:[Object(d.jsx)(j,{}),Object(d.jsx)(h,{}),Object(d.jsx)("section",{className:"division-horizontal"}),Object(d.jsx)(b,{})]})},m=a(9),x=function(t){var e=t.mod,a=Object(r.g)();return Object(d.jsx)("button",{"data-testid":"btn-back-init",onClick:function(){a.push("/")},className:"home__btn",type:"button",children:"simplified"===e?"Voltar para tela inicial":"Voltar"})},O=function(t){return Object(d.jsxs)("main",{"data-testid":"no-exist-tasks-main",className:"no-tasks__content",children:[Object(d.jsx)("h3",{"data-testid":"no-exist-tasks-title",className:"no-tasks__title",children:"N\xe3o existem notas adicionadas"}),"simplified"===t?null:Object(d.jsx)(j,{})]})},f=function(t){var e=t.mod,a=Object(s.useState)([]),n=Object(m.a)(a,2),c=n[0],i=n[1];Object(s.useEffect)((function(){fetch("http://localhost:5000/tasks").then((function(t){return t.json()})).then((function(t){return i(t)})).catch((function(t){throw new Error(t)}))}),[]);var o=function(){var t=c.map((function(t){return Object(d.jsxs)("article",{className:"task__content",children:[Object(d.jsx)("header",{className:"task__header",children:Object(d.jsx)("h3",{children:t.title})}),Object(d.jsx)("p",{className:"task__text",children:t.text}),Object(d.jsx)("footer",{className:"task__footer",children:Object(d.jsx)("button",{onClick:function(){return e=t.id,void fetch("http://localhost:5000/removetask/".concat(e),{method:"DELETE"}).then((function(t){return t.json()})).then((function(t){return i(t)})).catch((function(t){throw new Error(t)}));var e},className:"task__btn-delete",type:"button",children:Object(d.jsx)("i",{className:"fas fa-times"})})})]},t.id)}));return Object(d.jsxs)("main",{className:"show-tasks__content",children:[Object(d.jsx)("h2",{className:"show-tasks__h2",children:"Suas notas"}),Object(d.jsx)("section",{className:"show-tasks__tasks",children:t}),"simplified"===e?null:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(j,{}),Object(d.jsx)(x,{})]})]})};return 0===c.length?O(e):o()},p=a(49),_=a.n(p),k=a(75),N=a(19),w=a(36),v=function(t){var e=t.feedbackPost;return""===e?Object(d.jsx)("aside",{"data-testid":"show-modal-aside-empty"}):Object(d.jsx)("aside",{"data-testid":"show-modal-aside",className:"show-modal__content",children:Object(d.jsxs)("section",{"data-testid":"show-modal-section",className:"show-modal__base",children:[Object(d.jsx)("h3",{"data-testid":"show-modal-title",className:"show-modal__title",children:e}),Object(d.jsx)(h,{}),Object(d.jsx)(j,{})]})})},g=function(t){var e=t.mod,a=Object(s.useState)({}),n=Object(m.a)(a,2),c=n[0],i=n[1],o=Object(s.useState)(""),l=Object(m.a)(o,2),j=l[0],b=l[1],h=Object(r.g)(),u=function(t){return"error"===t?b("Nota n\xe3o criada, sem conex\xe3o com o servido"):t.title!==c.title&&t.text!==c.text?b("Nota n\xe3o criada, tente novamente mais tarde"):b("Nota criada com sucesso!")},x=function(){var t=Object(k.a)(_.a.mark((function t(a){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(a),t.next=3,fetch("http://localhost:5000/addtask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(t){return u(t)})).catch(u("error"));case 3:"simplified"===e&&(h.push("/simplified"),h.go(0));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(t){return Object(d.jsx)("p",{className:"add-new-task__error",children:t})},f=w.a().shape({title:w.b().min(3,"Precisa ter no m\xednino 3 letras!").max(50,"No m\xe1ximo 50 caracteres!").required("Precisa ter uma assunto!"),text:w.b().min(10,"Precisa ter no m\xednino 10 letras!").max(150,"No m\xe1ximo 150 caracteres!").required("Precisa ter um texto!")}),p=function(){h.push("/")};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("main",{className:"add-new-task__content",children:[Object(d.jsx)("h2",{className:"add-new-task__h2",children:"Bloco de notas"}),Object(d.jsx)(N.d,{initialValues:{title:"",text:""},onSubmit:x,validationSchema:f,children:function(){return Object(d.jsxs)(N.c,{"data-testid":"add-new-task-page-form",className:"add-new-task__form",children:[Object(d.jsx)(N.b,{"data-testid":"add-new-task-page-input-text",className:"add-new-task__title",name:"title",type:"text",placeholder:"Assunto.","aria-label":"Assunto"}),Object(d.jsx)(N.a,{name:"title",render:O}),Object(d.jsx)(N.b,{"data-testid":"add-new-task-page-textarea",className:"add-new-task__text",name:"text",as:"textarea",placeholder:"Texto.","aria-label":"Corpo do texto"}),Object(d.jsx)(N.a,{name:"text",render:O}),Object(d.jsx)("button",{"data-testid":"add-new-task-page-new-task",className:"add-new-task__btn",type:"submit",children:"criar nota"}),"simplified"===e?null:Object(d.jsx)("button",{"data-testid":"add-new-task-page-voltar",onClick:p,className:"add-new-task__btn",type:"button",children:"voltar"})]})}})]}),"simplified"===e?null:Object(d.jsx)(v,{feedbackPost:j})]})},y=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("section",{className:"simplified-page",children:[Object(d.jsx)(g,{mod:"simplified"}),Object(d.jsx)(f,{mod:"simplified"})]}),Object(d.jsx)("footer",{className:"simplified-page__footer",children:Object(d.jsx)(x,{mod:"simplified"})})]})};var C=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(l,{}),Object(d.jsx)(o.a,{children:Object(d.jsxs)(r.d,{children:[Object(d.jsx)(r.b,{exact:!0,path:"/",children:Object(d.jsx)(u,{})}),Object(d.jsx)(r.b,{exact:!0,path:"/view-tasks",children:Object(d.jsx)(f,{})}),Object(d.jsx)(r.b,{exact:!0,path:"/add-task",children:Object(d.jsx)(g,{})}),Object(d.jsx)(r.b,{exact:!0,path:"/simplified",children:Object(d.jsx)(y,{})}),Object(d.jsx)(r.b,{exact:!0,path:"*",children:Object(d.jsx)(r.a,{to:"/"})})]})})]})},S=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,192)).then((function(e){var a=e.getCLS,s=e.getFID,n=e.getFCP,c=e.getLCP,i=e.getTTFB;a(t),s(t),n(t),c(t),i(t)}))};i.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(C,{})}),document.getElementById("root")),S()},85:function(t,e,a){},86:function(t,e,a){}},[[191,1,2]]]);
//# sourceMappingURL=main.d118a085.chunk.js.map